# n8n Environment Configuration for AI Video Agent
# This file contains the actual environment variables for your n8n setup
# Copy from n8n.env.example and update with your actual values

# ============================================
# PAYLOAD CMS CONFIGURATION
# ============================================
PAYLOAD_CMS_URL=http://host.docker.internal:3001
# Get this from your new PayloadCMS-Auth automation user
PAYLOAD_API_KEY=automation-users API-Key c8c81815a4eeaff3e7885bc389b6a3c86222f2ead7597b9e11b59ec29ff09c43

# ============================================
# AI CONFIGURATION
# ============================================
# OpenAI API Key (for enhanced content analysis)
OPENAI_API_KEY=sk-your-openai-api-key-here

# Alternative AI providers (uncomment to use)
# ANTHROPIC_API_KEY=your-anthropic-key-here
# GOOGLE_AI_API_KEY=your-google-ai-key-here

# ============================================
# YOUTUBE API (Optional - for direct integration)
# ============================================
YOUTUBE_API_KEY=AIzaSyA1KI6gOPY0E7UZaM2wd69KKytDNlIFs-0

# ============================================
# N8N CORE CONFIGURATION
# ============================================
N8N_HOST=0.0.0.0
N8N_PORT=5678
N8N_PROTOCOL=http
WEBHOOK_URL=http://host.docker.internal:5678/
N8N_COMMUNITY_PACKAGES_ALLOW_TOOL_USAGE=true

# Basic Authentication (recommended for production)
N8N_BASIC_AUTH_ACTIVE=false
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=change_me_in_production

# ============================================
# DATABASE CONFIGURATION (Optional)
# ============================================
# Uncomment to persist workflows and executions
# DB_TYPE=postgresdb
# DB_POSTGRESDB_HOST=postgres
# DB_POSTGRESDB_PORT=5432
# DB_POSTGRESDB_DATABASE=n8n
# DB_POSTGRESDB_USER=n8n
# DB_POSTGRESDB_PASSWORD=n8n_password

# ============================================
# EXECUTION & PERFORMANCE SETTINGS
# ============================================
# Binary data handling
N8N_DEFAULT_BINARY_DATA_MODE=filesystem

# Execution timeouts (in seconds)
EXECUTIONS_TIMEOUT=900
EXECUTIONS_TIMEOUT_MAX=3600

# Memory limits
N8N_MAX_MEMORY_PERCENT=50

# Logging
N8N_LOG_LEVEL=info
N8N_LOG_OUTPUT=console

# ============================================
# ADVANCED SETTINGS
# ============================================
# Editor settings
N8N_EDITOR_BASE_URL=http://host.docker.internal:5678
N8N_DISABLE_UI=false

# Security settings
N8N_SECURE_COOKIE=false
N8N_JWT_SECRET=your-jwt-secret-here

# MCP/SSE Configuration (fixes connection issues)
N8N_SKIP_RESPONSE_COMPRESSION=true
N8N_DISABLE_GZIP=true

# Workflow settings
WORKFLOWS_DEFAULT_NAME=My Workflow
N8N_DEFAULT_LOCALE=en

# ============================================
# AI AGENT SPECIFIC SETTINGS
# ============================================
# Custom variables for your AI agent workflows
AGENT_NAME=Video Curation Agent
AGENT_VERSION=1.0.0
DEFAULT_SKILL_LEVEL=intermediate
DEFAULT_PUBLISH_STATUS=false
BATCH_SIZE=10
RATE_LIMIT_PER_MINUTE=30

# Content analysis settings
ENABLE_SKILL_ANALYSIS=true
ENABLE_TAG_ENHANCEMENT=true
ENABLE_QUALITY_SCORING=true
MIN_QUALITY_SCORE=0.7

# ============================================
# WEBHOOK ENDPOINTS
# ============================================
VIDEO_AGENT_WEBHOOK=http://host.docker.internal:5678/webhook/video-agent
BATCH_PROCESS_WEBHOOK=http://host.docker.internal:5678/webhook/batch-videos
HEALTH_CHECK_WEBHOOK=http://host.docker.internal:5678/webhook/health-check
